(this["webpackJsonpcodezilla-hours"]=this["webpackJsonpcodezilla-hours"]||[]).push([[0],{101:function(e,a,t){e.exports=t(123)},106:function(e,a,t){},123:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(12),l=t.n(i),o=(t(106),t(64)),c=t.n(o),s=t(77),d=t(28),u=t(55),m=t(11),p=t(48),h=t(36),f=t(4),b=t(187),g=t(194),y=t(175),E=t(188),v=t(189),w=t(124),k=t(190),j=t(191),O=t(82),C=t.n(O),I=t(81),x=t.n(I),N=t(83),S=t.n(N),D=t(49),T=t(65),B=t.n(T);B.a.initializeApp({apiKey:"AIzaSyAkvaF-lqt8ZxyBwcNlwrHhj-Pp3Ev54pI",authDomain:"codezilla-hours.firebaseapp.com",databaseURL:"https://codezilla-hours.firebaseio.com",projectId:"codezilla-hours",storageBucket:"codezilla-hours.appspot.com",messagingSenderId:"634823174203",appId:"1:634823174203:web:ca40af276111cfae66541e",measurementId:"G-DR0KK33WCW"});var W=B.a,z=t(56),H=t(34),M=t(78),P=t(79),A=t(25),J=t(84),R=t(182),K=t(180),V=t(185),F=t(166),G=t(181),L=t(183),U=t(184),Z=t(197),q=t(177),X=t(172),Y=t(179),$=t(198),Q=t(178),_=t(192),ee=t(195),ae=t(174),te=t(176),ne=t(186),re=t(196),ie=[{id:"worked",description:"Gewerkt",enabled:!0},{id:"overtime",description:"Overwerk",enabled:!0},{id:"sick",description:"Ziek",enabled:!0},{id:"holiday",description:"Verlof",enabled:!0},{id:"publicHoliday",description:"Feestdag",enabled:!0},{id:"available",description:"Beschikbaar",enabled:!1},{id:"education",description:"Opleiding",enabled:!1},{id:"other",description:"Overig",enabled:!1},{id:"standBy",description:"StandBy",enabled:!1},{id:"kilometers",description:"Kilometers",enabled:!1}],le=[{id:1,description:"Januari"},{id:2,description:"Februari"},{id:3,description:"Maart"},{id:4,description:"April"},{id:5,description:"Mei"},{id:6,description:"Juni"},{id:7,description:"Juli"},{id:8,description:"Augustus"},{id:9,description:"September"},{id:10,description:"Oktober"},{id:11,description:"November"},{id:12,description:"December"}],oe=[2020,2021,2022,2023,2025],ce=function(e){function a(e){var t;Object(z.a)(this,a),(t=Object(M.a)(this,Object(P.a)(a).call(this,e))).columns=ie,t.months=le,t.years=oe,t.isTemplate=!1,t.snackbarOpen=!1,t.isTemplate="template"===e.type;var n=(new Date).getFullYear(),r=(new Date).getMonth()+1;return t.submitHours=t.submitHours.bind(Object(A.a)(t)),t.handleClientInput=t.handleClientInput.bind(Object(A.a)(t)),t.handleProjectInput=t.handleProjectInput.bind(Object(A.a)(t)),t.state={data:{days:t.getDaysInMonth(0,n),expandColumns:t.isTemplate,month:r,year:n,client:"",project:"",profileId:e.profile.id}},t}return Object(J.a)(a,e),Object(H.a)(a,[{key:"handleChange",value:function(e,a,t){var n=this.state.data.days;n[t][a]=Number(e),this.setState(Object(u.a)({},this.state.data,{days:n}))}},{key:"expandColumns",value:function(e){this.setState((function(a){return a.data.expandColumns=e,a}))}},{key:"setMonth",value:function(e,a){var t=this.getDaysInMonth(e,a);this.setState((function(n){return n.data.month=e,n.data.year=a,n.data.days=t,n}))}},{key:"getDaysInMonth",value:function(e,a){for(var t=new Date(a,e,0).getDate(),n=[],r=1;r<t;r++)n.push({day:r,dayOfTheWeek:new Date(a,e-1,r).getDay(),date:new Date(a,e,r),worked:0,overtime:0,sick:0,holiday:0,publicHoliday:0,available:0,education:0,other:0,standBy:0,kilometers:0,explanation:""});return n}},{key:"getRowClass",value:function(e){return this.isNotWeekend(e.dayOfTheWeek)?"":"highlight"}},{key:"getTotal",value:function(e){return this.state.data.days.map((function(a){return a[e]})).reduce((function(e,a){return e+a}))}},{key:"isNotWeekend",value:function(e){return 0!==e&&6!==e||this.isTemplate}},{key:"hoursCell",value:function(e,a){var t=this;return r.a.createElement(F.a,{align:"right",key:e.day+"-"+a},this.isNotWeekend(e.dayOfTheWeek)?r.a.createElement(Z.a,{id:a,inputProps:{style:{textAlign:"right"},day:e.day},onBlur:function(n){return t.handleChange(n.target.value,a,e.day)},size:"small"}):null)}},{key:"handleClientInput",value:function(e){var a=e.target.value;this.setState((function(e){return e.data.client=a,e}))}},{key:"handleProjectInput",value:function(e){var a=e.target.value;this.setState((function(e){return e.data.project=a,e}))}},{key:"submitHours",value:function(){console.log(this.state.data),W.firestore().collection("months").add(this.state.data).then((function(e){console.log("Document written with ID: ",e.id),this.snackbarOpen=!0})).catch((function(e){console.error("Error adding document: ",e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("form",{noValidate:!0,autoComplete:"off"},this.isTemplate?null:r.a.createElement(te.a,null,r.a.createElement(q.a,{container:!0,direction:"row",alignItems:"flex-start"},r.a.createElement(X.a,null,r.a.createElement($.a,{id:"select-month-label"},"Maand"),r.a.createElement(_.a,{labelId:"select-month-label",id:"select-month-label",value:this.state.data.month,onChange:function(a){return e.setMonth(a.target.value,e.state.data.year)}},this.months.map((function(e){return r.a.createElement(Q.a,{value:e.id,key:e.id},e.description)})))),r.a.createElement(X.a,null,r.a.createElement($.a,{id:"select-year-label"},"Jaar"),r.a.createElement(_.a,{labelId:"select-year-label",id:"select-year-label",value:this.state.data.year,onChange:function(a){return e.setMonth(e.state.data.month,a.target.value)}},this.years.map((function(e){return r.a.createElement(Q.a,{value:e,key:e},e)})))),r.a.createElement(Z.a,{id:"client",label:"Klant",onBlur:this.handleClientInput}),r.a.createElement(Z.a,{id:"project",label:"Project",onBlur:this.handleProjectInput}),r.a.createElement(Y.a,{control:r.a.createElement(ee.a,{checked:this.state.data.expandColumns,onChange:function(a){return e.expandColumns(a.target.checked)},color:"primary"}),label:"Toon alle velden"}),r.a.createElement(K.a,{variant:"contained",color:"primary",onClick:this.submitHours},"Verstuur"))),r.a.createElement(G.a,{component:ae.a,className:"hoursGrid"},r.a.createElement(R.a,{stickyHeader:!0,size:"small","aria-label":"simple table"},r.a.createElement(L.a,null,r.a.createElement(U.a,null,r.a.createElement(F.a,null),this.columns.map((function(a){return a.enabled||e.state.data.expandColumns?r.a.createElement(F.a,{align:"right",key:"header-"+a.id},a.description):null})),r.a.createElement(F.a,{align:"right"},"Toelichting"))),r.a.createElement(V.a,null,this.state.data.days.map((function(a){return r.a.createElement(U.a,{key:a.day,className:e.getRowClass(a)},r.a.createElement(F.a,{component:"th",scope:"row"},a.day),e.columns.map((function(t){return t.enabled||e.state.data.expandColumns?e.hoursCell(a,t.id):null})),r.a.createElement(F.a,{align:"right"},e.isNotWeekend(a.dayOfTheWeek)?r.a.createElement(Z.a,{id:"explanation",inputProps:{day:a.day},onBlur:function(t){return e.handleChange(t.target.value,"explanation",a.day)}}):null))}))),r.a.createElement(ne.a,null,r.a.createElement(U.a,null,r.a.createElement(F.a,null," Totaal"),this.columns.map((function(a){return a.enabled||e.state.data.expandColumns?r.a.createElement(F.a,{align:"right",key:"footer-"+a.id},e.getTotal(a.id)):null})),r.a.createElement(F.a,{align:"right"}))))),r.a.createElement(re.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.snackbarOpen,autoHideDuration:6e3,message:"Uren verstuurd"}))}}]),a}(r.a.Component),se=Object(b.a)((function(e){return{layout:{width:"auto",marginLeft:e.spacing(1),marginRight:e.spacing(1)},paper:{marginTop:e.spacing(1),marginBottom:e.spacing(1),padding:e.spacing(2)}}}));function de(e){var a=se(),t=r.a.useState(e.profile.firstName),n=Object(d.a)(t,2),i=n[0],l=n[1],o=r.a.useState(e.profile.lastName),c=Object(d.a)(o,2),s=c[0],u=c[1];return r.a.createElement("div",{className:a.layout},r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(te.a,null,r.a.createElement(K.a,{variant:"contained",color:"primary",onClick:function(){W.firestore().collection("profile").doc(e.profile.id).set({lastName:s,firstName:i})}},"Bewaar")),r.a.createElement(ae.a,{className:a.paper},r.a.createElement(q.a,{container:!0,spacing:3},r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(Z.a,{id:"firstName",label:"Voornaam",value:i,onChange:function(e){l(e.target.value)},fullWidth:!0})),r.a.createElement(q.a,{item:!0,xs:12},r.a.createElement(Z.a,{id:"lastName",label:"Achternaam",value:s,onChange:function(e){u(e.target.value)},fullWidth:!0}))))))}var ue=Object(b.a)((function(e){return{root:{display:"flex"},activeItem:{backgroundColor:e.palette.primary[100]},item:{},menuButton:{marginRight:36},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(m.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(u.a)({display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1},title:{margin:e.spacing(0,1)}}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){var e,a,t=ue(),n=r.a.useState(!0),i=Object(d.a)(n,1)[0],l=r.a.useState({}),o=Object(d.a)(l,2),u=o[0],b=o[1],O=r.a.useState(!0),I=Object(d.a)(O,2),N=I[0],T=I[1],B=function(){var e=Object(s.a)(c.a.mark((function e(){var a,t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=W.firestore(),e.next=3,a.collection("profile").get();case 3:t=e.sent,n=t.docs.find((function(e,a){return 0===a})),(r=n.data()).id=n.id,b(r),T(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){B()}),[]),r.a.createElement("div",{className:t.root},r.a.createElement(p.a,null,r.a.createElement(E.a,null),r.a.createElement(g.a,{variant:"permanent",className:Object(f.a)(t.drawer,(e={},Object(m.a)(e,t.drawerOpen,i),Object(m.a)(e,t.drawerClose,!i),e)),classes:{paper:Object(f.a)((a={},Object(m.a)(a,t.drawerOpen,i),Object(m.a)(a,t.drawerClose,!i),a))}},r.a.createElement("div",{className:t.toolbar},"CODEZILLA Hours"),r.a.createElement(v.a,null),r.a.createElement(y.a,null,r.a.createElement(w.a,{component:p.b,button:!0,key:"profile",to:"/profile"},r.a.createElement(k.a,null,r.a.createElement(x.a,null)),r.a.createElement(j.a,{primary:"Profiel"})),r.a.createElement(w.a,{component:p.b,button:!0,key:"hours",to:"/"},r.a.createElement(k.a,null,r.a.createElement(C.a,null)),r.a.createElement(j.a,{primary:"Urenstaat"})),r.a.createElement(w.a,{component:p.b,button:!0,key:"template",to:"/template"},r.a.createElement(k.a,null,r.a.createElement(S.a,null)),r.a.createElement(j.a,{primary:"Template"})))),r.a.createElement("main",{className:t.content},N?null:r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/"},r.a.createElement(ce,{type:"month",profile:u})),r.a.createElement(h.a,{path:"/template"},r.a.createElement(D.a,{variant:"h4",component:"h4",className:t.title},"Template"),r.a.createElement(ce,{type:"template",profile:u})),r.a.createElement(h.a,{path:"/profile"},r.a.createElement(D.a,{variant:"h4",component:"h4",className:t.title},"Profiel"),r.a.createElement(de,{profile:u}))))),r.a.createElement("script",{src:"https://www.gstatic.com/firebasejs/7.11.0/firebase-app.js"}),r.a.createElement("script",{src:"https://www.gstatic.com/firebasejs/7.11.0/firebase-analytics.js"}),r.a.createElement("script",{src:"https://www.gstatic.com/firebasejs/7.11.0/firebase-auth.js"}),r.a.createElement("script",{src:"https://www.gstatic.com/firebasejs/7.11.0/firebase-firestore.js"}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[101,1,2]]]);
//# sourceMappingURL=main.75579e0b.chunk.js.map